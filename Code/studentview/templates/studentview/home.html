{% extends "studentview/base.html" %}
{% block content %}
<h1 style="text-align:center"> My Classes</h1>

<div style="padding:30px">
{% if user.is_authenticated %}
    {% if isProfessor %}
    <div style="padding:20px">
        <a href="/studenthome/createclass">
            <button type="button" class="btn btn-primary" style="margin-right:10px">
                Create Waitlist
            </button>
        </a>
        <a href="/studenthome/closeclass"> 
            <button type="button" class="btn btn-primary" style="margin-left:10px">
                Close Class
            </button>
        </a> 
    </div>
    {% endif %}

    {% if isStudent %}
    <div style="padding:20px">

        <a href="/studenthome/joinwaitlist">
            <button type="button" class="btn btn-primary" style="margin-right:10px">
                Join Waitlist
            </button>
        </a>
        <a href="/studenthome/leavewaitlist/">
            <button type="button" class="btn btn-primary" style="margin-left:10px">
                Leave Waitlist
            </button>
        </a>
        <a href="/studenthome/leaveallwaitlists/">
            <button type="button" class="btn btn-primary" style="margin-left:20px">
                Leave All
            </button>
        </a>
    </div>
    {% endif %}
{% endif %}

<h2> {{message}}</h2>
    {% for class in classes %}
    {% if not class.closed or isProfessor %}
    <div class="studentclassbox" >
        <h2>{{class.className}} - {{class.classCode}}</h2>
        <p>Professor: {{class.professor}}</p>
        <p>{{class.schedule}}</p>
        <p>CRN: {{class.crn}}</p>
        <p>{{class.waitlistposition}}</p>
        <button onclick="window.location.href='/studenthome/{{class.pk}}/detail';">Expand Details</button>
    </div>
    {% endif %}
    {% endfor %}
</div>
    
{% endblock content %}
