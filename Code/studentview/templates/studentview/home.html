{% extends "studentview/base.html" %}
{% block content %}
<h1> My Classes</h1>
<h2> {{message}}</h2>
    {% for class in classes %}
    {% if not class.closed or isProfessor %}
    <div class="studentclassbox">
        <h2>{{class.className}} - {{class.classCode}}</h2>
        <p>Professor: {{class.professor}}</p>
        <p>{{class.schedule}}</p>
        <p>CRN: {{class.crn}}</p>
        <p>{{class.waitlistposition}}</p>
        <p>Class ID:{{class.pk}}</p>
        <button onclick="window.location.href='/studenthome/{{class.pk}}/detail';">Expand Details</button>
    </div>
    {% endif %}
    {% endfor %}

    {% if user.is_authenticated %}
    {% if isProfessor %}
        <a href="/studenthome/createclass">
            <button>
                Create Waitlist
            </button>
        </a>
        <a href="/studenthome/closeclass"> 
            <button>
                Close Class
            </button>
        </a> 
    {% endif %}

    {% if isStudent %}
        <a href="/studenthome/joinwaitlist">
            <button>
                Join Waitlist
            </button>
        </a>
        <a href="/studenthome/leavewaitlist/">
            <button>
                Leave Waitlist
            </button>
        </a>
    {% endif %}
    {% endif %}
{% endblock content %}
