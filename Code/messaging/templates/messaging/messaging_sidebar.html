<div class="row d-flex flex-column h-100 py-3">
    <!-- Close messaging sidebar container -->
    <div class="col col-12">
        <div id="messaging-header" class="d-flex flex-row justify-content-left">
            <div class="col px-3">
                <button class="btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#messaging-sidebar-content"
                        aria-expanded="false" aria-controls="messaging-sidebar-content">
                    <i class="fas fa-xmark"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- Messaging sidebar title/buttons container -->
    <div class="col col-12">
        <div id="messaging-title" class="d-flex flex-row justify-content-left pt-3">
            <div class="col col-auto h3 px-4">
                <i class="fa-solid fa-envelopes-bulk fa-lg mx-3"></i>
                Your Inbox
            </div>
        </div>
        <div id="inbox-button-row" class="d-flex flex-row py-4">
            <div id="inbox-btn-container-left" class="col px-3">
                <button class="btn btn-outline-secondary" type="button">
                    Select all
                </button>
                <button class="btn btn-outline-secondary d-none" type="button">
                    Mark as unread
                </button>
            </div>
            <div id="inbox-btn-container-right" class="col col-auto px-3">
                <button class="btn btn-secondary" type="button">
                    Send message...
                </button>
                {% comment %} <button class="btn btn-outline-secondary" type="button">
                    Drafts
                </button> {% endcomment %}
            </div>
        </div>
    </div>
    <!-- Messaging sidebar inbox container -->
    <div id="inbox" class="col col-12 overflow-auto" style="flex: 1;">
        {% for thread in inbox %}
            <div class="inbox-row d-flex flex-row flex-wrap">
                <div class="col-12 d-flex flex-column">
                    <ul class="list-group">
                        <li class="list-group-item border-left-0{% if thread.unread %} unread{% endif %} no-gutters py-2"
                                data-toggle="tooltip" data-placement="left" title="{{ thread.unread|yesno:"Unread message,Message" }} from {{ thread.name }}">
                            <div class="row">
                                <div class="col col-1 d-flex flex-column p-0">
                                    <input id="thread_select{{ thread.nameID }}" class="form-check-input m-auto" type="checkbox" value=""
                                        data-toggle="tooltip" data-placement="left" title="Select this thread.">
                                </div>
                                <div class="col col-11 p-0">
                                    <div class="d-flex flex-row">
                                        <div class="col" style="padding-left: 1rem;">
                                            <div class="my-1">
                                                {{ thread.name }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-row">
                                        <div class="col" style="padding-left: 1rem;">
                                            <div class="my-1">
                                                {{ thread.subject }}
                                            </div>
                                        </div>
                                        <div class="col col-auto">
                                            <div class="my-1" style="padding-right: 1.5rem; font-weight: 300;">
                                                {{ thread.last_received }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex flex-row justify-content-left">
                                        <div class="col col-auto mb-2" style="padding-left: 1rem; font-weight: 300;">
                                            {{ thread.message_snippet }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        {% empty %}
            <div class="row text-center pt-5">
                <div class="col" style="font-weight: 300;">
                    Send a message to start a thread...
                </div>
            </div>
        {% endfor %}
    </div>
    <!-- Messaging sidebar footer container -->
    <div id="messaging-footer" class="col col-12 mt-2 mb-1">
        <div class="d-flex flex-row justify-content-center">
            <div class="col col-auto">
                You have {{ unread_messages }} unread message{{ unread_messages|pluralize }}.
            </div>
        </div>
            <div class="col col-auto">
            </div>
        </div>
    {% empty %}
        <div class="row text-center pt-5">
            <div class="col" style="font-weight: 300;">
                Send a message to start a thread...
            </div>
        </div>
    {% endfor %}
    <div id="messaging-button-row" class="d-flex flex-row">

    </div>
</div>
